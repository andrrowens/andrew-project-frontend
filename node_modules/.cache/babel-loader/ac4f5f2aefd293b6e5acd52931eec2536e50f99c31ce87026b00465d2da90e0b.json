{"ast":null,"code":"var _jsxFileName = \"/Users/andrewowens/Development/andrew-project-frontend/src/context/UserContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext();\nconst UserProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [users, setUsers] = useState(null);\n  useEffect(() => {\n    fetch(\"/authenticated_user\").then(res => {\n      if (res.ok) {\n        res.json().then(users => {\n          setUsers(users);\n        });\n      } else {\n        res.json().then(errorObj => alert(errorObj.errors));\n      }\n    });\n  }, []);\n  const handleLogin = (e, formData) => {\n    e.preventDefault();\n    console.log(formData);\n    fetch(\"/login\", {\n      method: \"POST\",\n      header: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    }).then(resp => {\n      if (resp.ok) {\n        resp.json().then(usersObj => {\n          setUsers(usersObj);\n          alert(\"User Logged In\");\n        });\n      } else {\n        resp.json().then(messageObj => alert(messageObj.error));\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      users,\n      setUsers,\n      handleLogin\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"agkcAITZm3jfJZtUcsWKkI40X24=\");\n_c = UserProvider;\nexport { UserContext, UserProvider };\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","UserContext","UserProvider","_ref","_s","children","users","setUsers","fetch","then","res","ok","json","errorObj","alert","errors","handleLogin","e","formData","preventDefault","console","log","method","header","body","JSON","stringify","resp","usersObj","messageObj","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/andrewowens/Development/andrew-project-frontend/src/context/UserContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nconst UserContext = createContext()\n\nconst UserProvider = ({children}) => {\n    const [users, setUsers] = useState(null);\n\n    useEffect(() => {\n        fetch(\"/authenticated_user\")\n        .then((res) => {\n            if (res.ok) {\n                res.json()\n                .then((users) => {\n                    setUsers(users);\n                });\n            } else {\n                res.json()\n                .then((errorObj) => alert(errorObj.errors))\n            }\n        })\n    }, []);\n\n    const handleLogin = (e, formData) => {\n        e.preventDefault()\n        console.log(formData)\n        fetch(\"/login\", {\n            method: \"POST\",\n            header: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(resp => {\n            if (resp.ok) {\n                resp.json().then(usersObj => {\n                    setUsers(usersObj)\n                    alert(\"User Logged In\")\n                })\n            }   else {\n                resp.json().then(messageObj => alert(messageObj.error))\n            }\n        })    \n    }\n\n    return (\n        <UserContext.Provider value={{users, setUsers, handleLogin}} >\n            {children}\n        </UserContext.Provider>\n    )\n}\n \nexport {UserContext, UserProvider}"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAEnC,MAAMM,YAAY,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAC5B,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZU,KAAK,CAAC,qBAAqB,CAAC,CAC3BC,IAAI,CAAEC,GAAG,IAAK;MACX,IAAIA,GAAG,CAACC,EAAE,EAAE;QACRD,GAAG,CAACE,IAAI,CAAC,CAAC,CACTH,IAAI,CAAEH,KAAK,IAAK;UACbC,QAAQ,CAACD,KAAK,CAAC;QACnB,CAAC,CAAC;MACN,CAAC,MAAM;QACHI,GAAG,CAACE,IAAI,CAAC,CAAC,CACTH,IAAI,CAAEI,QAAQ,IAAKC,KAAK,CAACD,QAAQ,CAACE,MAAM,CAAC,CAAC;MAC/C;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,WAAW,GAAGA,CAACC,CAAC,EAAEC,QAAQ,KAAK;IACjCD,CAAC,CAACE,cAAc,CAAC,CAAC;IAClBC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACrBV,KAAK,CAAC,QAAQ,EAAE;MACZc,MAAM,EAAE,MAAM;MACdC,MAAM,EAAE;QACJ,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ;IACjC,CAAC,CAAC,CACDT,IAAI,CAACkB,IAAI,IAAI;MACV,IAAIA,IAAI,CAAChB,EAAE,EAAE;QACTgB,IAAI,CAACf,IAAI,CAAC,CAAC,CAACH,IAAI,CAACmB,QAAQ,IAAI;UACzBrB,QAAQ,CAACqB,QAAQ,CAAC;UAClBd,KAAK,CAAC,gBAAgB,CAAC;QAC3B,CAAC,CAAC;MACN,CAAC,MAAQ;QACLa,IAAI,CAACf,IAAI,CAAC,CAAC,CAACH,IAAI,CAACoB,UAAU,IAAIf,KAAK,CAACe,UAAU,CAACC,KAAK,CAAC,CAAC;MAC3D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,oBACI9B,OAAA,CAACC,WAAW,CAAC8B,QAAQ;IAACC,KAAK,EAAE;MAAC1B,KAAK;MAAEC,QAAQ;MAAES;IAAW,CAAE;IAAAX,QAAA,EACvDA;EAAQ;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAAhC,EAAA,CA7CKF,YAAY;AAAAmC,EAAA,GAAZnC,YAAY;AA+ClB,SAAQD,WAAW,EAAEC,YAAY;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}